var Node = require('./node');

var Filo = function() {
  this.inicio = null;
  this.fim    = null;
};


Filo.prototype.push = function(propriedades) {
  var novo = new Node(propriedades);
  novo.ant = this.inicio;

  if(this.inicio) {
    this.inicio.prox = novo;
  }
  else {
    this.fim = novo;
  }
  this.inicio = novo;
};

Filo.prototype.each = function(callback) {
  (function eaching(node) {
    if(node !== null) {
      callback(node);
      eaching(node.ant);
    }
  })(this.inicio);
};

Filo.prototype.pop = function() {
  if(this.inicio) {
    this.inicio = this.inicio.ant ? this.inicio.ant : null;
    return true;
  }
  return false;
};


module.exports = Filo;
