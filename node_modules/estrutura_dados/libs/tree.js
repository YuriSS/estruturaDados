var Node = require('./node');

var Tree = function() {
  this.root = null;
};


Tree.prototype.push = function(index, propriedades) {
  var novo = new Node(propriedades);
  novo.index = index;

  function pushing(node) {
    if(novo.index > node.index) {
      return node.prox ? pushing(node.prox) : node.prox = novo;
    }
    else if(novo.index < node.index) {
      return node.ant ? pushing(node.ant) : node.ant = novo;
    }
  }

  if(this.root) {
    pushing(this.root)
  }
  else {
    this.root = novo;
  }
};

Tree.prototype.inorder = function(callback) {
  (function going(node) {
    if(node !== null) {
      going(node.ant);
      callback(node);
      going(node.prox);
    }
  }.bind(this))(this.root);
};


module.exports = Tree;
